'''
С целью размещения рекламы опрошено 420 телезрителей, из которых данную передачу смотрят 170 человек.
С доверительной вероятностью γ=0,91 найти долю телезрителей, охваченных рекламой в лучшем случае.
'''

import numpy as np
from scipy.stats import norm

# Исходные данные
n = 420        # Общее число опрошенных
x = 170        # Число смотрящих передачу
uroven_doveriya = 0.91   # Доверительная вероятность

# Выборочная доля
p_share = x / n

# Уровень значимости
alpha = 1 - uroven_doveriya

# Квантиль стандартного нормального распределения для двустороннего интервала
z = norm.ppf(1 - alpha / 2)

# Стандартная ошибка
se = np.sqrt((p_share * (1 - p_share)) / n)

# Доверительный интервал
dov_interval = z * se

# Границы доверительного интервала
lower_bound = p_share - dov_interval
upper_bound = p_share + dov_interval

# Вывод результатов
print(f"Выборочная доля: {p_share:.4f}")
print(f"Квантиль z: {z:.4f}")
print(f"Стандартная ошибка: {se:.4f}")
print(f"Доверительный интервал: [{lower_bound:.4f}, {upper_bound:.4f}]")
print(f"Лучший случай (верхняя граница): {upper_bound * 100:.2f}%")
